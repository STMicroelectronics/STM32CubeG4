<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Release Notes for STM32 USB-C Power Delivery G4 Device Driver</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="_htmresc/mini-st_2020.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="icon" type="image/x-icon" href="_htmresc/favicon.png" />
</head>
<body>
<div class="row">
<div class="col-sm-12 col-lg-4">
<center>
<h1 id="release-notes-for">Release Notes for</h1>
<h1 id="stm32-usb-c-power-delivery-g4-device-driver"><mark>STM32 USB-C Power Delivery G4 Device Driver</mark></h1>
<p>Copyright © 2019 STMicroelectronics<br />
</p>
<a href="https://www.st.com" class="logo"><img src="_htmresc/st_logo_2020.png" alt="ST logo" /></a>
</center>
<h1 id="purpose">Purpose</h1>
<p>The USB-PD device driver provides a set of functions to manage the physical layer (i.e. low level of the type C state machine and low level of message transport). This includes :</p>
<ul>
<li><p>Type C state machine: SRC, SNK or DRP</p></li>
<li><p>Physical layer : message handling SOP, SOP’, SOP’’, HARDRESET, …</p></li>
<li><p>Timer server to handle GOODCRC, PRL repetition timing</p></li>
</ul>
</div>
<div class="col-sm-12 col-lg-8">
<h1 id="update-history">Update History</h1>
<div class="collapse">
<input type="checkbox" id="collapse-section14" checked aria-hidden="true"> <label for="collapse-section14" aria-hidden="true">v5.3.1 / 09-Nov-2023</label>
<div>
<h2 id="main-changes">Main Changes</h2>
<h3 id="maintenance-release">Maintenance release</h3>
<h2 id="contents">Contents</h2>
<p><strong>Fixed bugs list</strong></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Protect DMA intitialization function</td>
</tr>
<tr class="even">
<td style="text-align: left;">Block Fast Role Swap detection when Power Delivery is not activated</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Add management of DRP low power</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.50.6</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.31</li>
<li>STM32CubeIDE V1.8.0</li>
</ul>
<h2 id="supported-devices-and-boards">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v4.1.0 or higher</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section13" aria-hidden="true"> <label for="collapse-section13" aria-hidden="true">v5.3.0 / 27-Jan-2023</label>
<div>
<h2 id="main-changes-1">Main Changes</h2>
<h3 id="maintenance-release-1">Maintenance release</h3>
<h2 id="contents-1">Contents</h2>
<p><strong>Fixed bugs list</strong></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Align function name to official FRS BSP service</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update FRS BSP API used for VBUS management</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FRS updates (false detections)</td>
</tr>
<tr class="even">
<td style="text-align: left;">MCUAstyle corrections.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Add GitHub readme</td>
</tr>
<tr class="even">
<td style="text-align: left;">Implementation of OCP recovery procedure</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Low Power implementation on USBPD SRC applications</td>
</tr>
<tr class="even">
<td style="text-align: left;">Codespell corrections.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fix(device): avoid issue when an AMS is interrupted</td>
</tr>
<tr class="even">
<td style="text-align: left;">fix(frs): fix definitnion of FRSTX pins for series using only a common pin</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-1">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-1">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.50.6</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.31</li>
<li>STM32CubeIDE V1.8.0</li>
</ul>
<h2 id="supported-devices-and-boards-1">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-1">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-1">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v4.1.0 or higher</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section12" aria-hidden="true"> <label for="collapse-section12" aria-hidden="true">v5.2.0 / 13-December-2021</label>
<div>
<h2 id="main-changes-2">Main Changes</h2>
<h3 id="maintenance-release-2">Maintenance release</h3>
<h2 id="contents-2">Contents</h2>
<p><strong>Fixed bugs list</strong></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Update FRS event reception processing (protected under _FRS flag)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Optimize two tone merge test on LeCroy (TD.PD.PHY.ALL.05)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Copyright Year correction + CodeSpell corrections.</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-2">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-2">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.50.6</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.31</li>
<li>STM32CubeIDE V1.7.0</li>
</ul>
<h2 id="supported-devices-and-boards-2">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-2">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-2">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v4.0.0 or higher</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section11" aria-hidden="true"> <label for="collapse-section11" aria-hidden="true">v5.1.0 / 06-Jul-2021</label>
<div>
<h2 id="main-changes-3">Main Changes</h2>
<h3 id="maintenance-release-3">Maintenance release</h3>
<h2 id="contents-3">Contents</h2>
<p><strong>Fixed bugs list</strong></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Update the way to declare licenses in Cube and X-CUBE components</td>
</tr>
<tr class="even">
<td style="text-align: left;">Remove useless code sections (compilation switch combinations)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Do not care of FRS signal during PRS sequence</td>
</tr>
<tr class="even">
<td style="text-align: left;">G4 code realignement on reference Device code (after MCUAstyle + CodeSpell correction)</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-3">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-3">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.50.6</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.31</li>
<li>STM32CubeIDE V1.7.0</li>
</ul>
<h2 id="supported-devices-and-boards-3">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-3">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-3">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v4.0.0</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section10" aria-hidden="true"> <label for="collapse-section10" aria-hidden="true">v5.0.0 / 26-Nov-2020</label>
<div>
<h2 id="main-changes-4">Main Changes</h2>
<h3 id="maintenance-release-4">Maintenance release</h3>
<h2 id="contents-4">Contents</h2>
<p><strong>Fixed bugs list</strong></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Tests TD4.3.x failed on Lecroy with NO_PD Sink version</td>
</tr>
<tr class="even">
<td style="text-align: left;">[FRS] confirm the FRS event by checking if an Rp resistor is still present</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Avoid double definition with LE16 &amp; LE32 macros used in usbh.def</td>
</tr>
<tr class="even">
<td style="text-align: left;">Codespell corrections</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-4">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-4">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.32.3</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.27</li>
<li>STM32CubeIDE V1.4.0</li>
</ul>
<h2 id="supported-devices-and-boards-4">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-4">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-4">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v3.3.0</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section9" aria-hidden="true"> <label for="collapse-section9" aria-hidden="true">v4.1.0 / 17-Sep-2020</label>
<div>
<h2 id="main-changes-5">Main Changes</h2>
<h3 id="maintenance-release-5">Maintenance release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Integration of the FRS feature on G4, L5, U5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Provide external API in CAD to allow application to know which RP present in Sink</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Add USBPDM1_VCC_FEATURE_ENABLED switch from all the series</td>
</tr>
<tr class="even">
<td style="text-align: left;">Remove condition for CAD_StateMachine prototype</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Correct misspelled words</td>
</tr>
<tr class="even">
<td style="text-align: left;">Need to increase delay before reading CC values after VCC activation of TCPP01</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-5">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-5">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.32.3</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.27</li>
<li>STM32CubeIDE V1.2.0</li>
</ul>
<h2 id="supported-devices-and-boards-5">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-5">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-5">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v3.2.0</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section11" aria-hidden="true"> <label for="collapse-section11" aria-hidden="true">V4.0.1 / 6-June-2020</label>
<div>
<h2 id="main-changes-6">Main Changes</h2>
<h3 id="maintenance-release-6">Maintenance release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Source path are missing for MW and Utilities</td>
</tr>
<tr class="even">
<td style="text-align: left;">Build issue: usbpd_timeserver.h: No such file or directory in NO_PD configuration</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-6">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-6">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.32.3</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.27</li>
<li>STM32CubeIDE V1.2.0</li>
</ul>
<h2 id="supported-devices-and-boards-6">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-6">Backward compatibility</h2>
<h2 id="dependencies-6">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v3.0.0</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section10" aria-hidden="true"> <label for="collapse-section10" aria-hidden="true">V4.0.0 / 26-Mar-2020</label>
<div>
<h2 id="main-changes-7">Main Changes</h2>
<h3 id="maintenance-release-7">Maintenance release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Add inside PRL a mechanism to avoid RX buffer overwrite in case of multiple RX</td>
</tr>
<tr class="even">
<td style="text-align: left;">Add an optional mechansime to manage the tx discard and tx abort by UCPD IP. Interface modifications with USBPD/Core library.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Correction of CC line not updated in SRC_NO_PD configuration (Ellisys failed TD.PD.C.E1 DFP Attach/Detach Detection)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update done to integrate NO PD stack</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Code alignment between all STM32 series USBPD Device modules (NO PD implementation and error recovery)</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-7">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-7">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.32.3</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.27</li>
<li>STM32CubeIDE V1.2.0</li>
</ul>
<h2 id="supported-devices-and-boards-7">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-7">Backward compatibility</h2>
<p>Implementation of CR Ticket 81963 and Ticket 81964 leads to some interface changes between USBPD Core and USBPD Device driver modules. In order to use this version of USBPD Device driver module, please ensure version of USBPD Core module is v3.0.0 or higher.</p>
<h2 id="dependencies-7">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v3.0.0</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section8"  aria-hidden="true"> <label for="collapse-section8" aria-hidden="true">v3.1.0 / 04-Feb-2020</label>
<div>
<h2 id="main-changes-8">Main Changes</h2>
<h3 id="maintenance-release-8">Maintenance release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">4.4.6 SNKAS Connect Audio failed on Ellisys</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update done to integrate NO PD stack</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Update for the tests: TD.4.4.4 TD.4.4.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Implementation of sink with accessory support</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Update Disable Battery LL PWR API to new name : LL_PWR_DisableUCPDDeadBattery</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-8">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-8">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.32.3</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.27</li>
<li>STM32CubeIDE v1.2.0</li>
</ul>
<h2 id="supported-devices-and-boards-8">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-8">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-8">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v2.9.0</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section7"  aria-hidden="true"> <label for="collapse-section7" aria-hidden="true">V3.0.0 / 20-Dec-2019</label>
<div>
<h2 id="main-changes-9">Main Changes</h2>
<h3 id="maintenance-release-9">Maintenance release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Solve randomness reloading of CC1 and CC2 values in local variables in CAD_Check_HW() function according to optimizations options, code sequences.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Add dynamic voltage disconnect for a SNK</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fix bug to initialize the default Rp</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ellisys 4.9.4 Source Vconn Swap (Testing Ufp) failed</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CAD power role overwritten in configuration _SRC &amp; _SNK</td>
</tr>
<tr class="even">
<td style="text-align: left;">Alignment with G0 (NO PD implementation and error recovery)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Issue with CC2 (PB4) default mode with G4</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-9">Known Limitations</h2>
<p>Outstanding bugs list :</p>
<p>Identified issue on LeCroy test 4.10.2 regarding remaining VBUS voltage when externally powered. TC 4.10.2 OK requires either a Resistor value change on G4 EVAL board (MB1397) or an update in BSP drivers =&gt; [EVAL-G4] UCPD VBUS value when 5V external supply connected</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-9">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.32.3</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.26</li>
<li>STM32CubeIDE v1.2.0</li>
</ul>
<h2 id="supported-devices-and-boards-9">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-9">Backward compatibility</h2>
<p>Application needs to provide new interface to manage introduction of dynamic voltage (USBPD_PWR_IF_GetVBUSStatus function).</p>
<h2 id="dependencies-9">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v2.9.0</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section6" aria-hidden="true"> <label for="collapse-section6" aria-hidden="true">V2.8.0 / 06-May-2019</label>
<div>
<h2 id="main-changes-10">Main Changes</h2>
<h3 id="maintenance-release-10">Maintenance release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Update of G4 USBPD device following new version of BSP APIs for USBPD Power management (BSP V2)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update of Device state state machines : definition of new functions for each Attached and AttachedWait states</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Addition of support of G4 Discovery board B-G474E-DPOW1 (MB1428) in usbpd\_devices\_conf\_template.h file.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Low Power consumption specific code has been added under compilation switch (Not enabled yet)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Update of Retry timer value (945 to 905 microsecs)</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-10">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-10">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.20.2</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.25</li>
<li>System Workbench STM32 (SW4STM32) toolchain V2.7.2</li>
</ul>
<h2 id="supported-devices-and-boards-10">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-10">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-10">Dependencies</h2>
<p>This software release is compatible with USB-C Power Delivery Core Stack Library v2.6.0</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section5" aria-hidden="true"> <label for="collapse-section5" aria-hidden="true">V2.7.0 / 25-Mar-2019</label>
<div>
<h2 id="main-changes-11">Main Changes</h2>
<h3 id="maintenance-release-11">Maintenance release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Removal of usbpd_pwr.c/.h files : BSP PWR functions defined at Device level are now expected to be provided by STM32G474E EVAL BSP component.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Alignment on APIs, following latest updates done in all STM32xx</td>
</tr>
<tr class="odd">
<td style="text-align: left;">USPBD Devices components</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update of usbpd_devices_conf_template.h file.</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-11">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-11">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.20.2</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.25</li>
<li>System Workbench STM32 (SW4STM32) toolchain V2.7.2</li>
</ul>
<h2 id="supported-devices-and-boards-11">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-11">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-11">Dependencies</h2>
<p>NA</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section4" aria-hidden="true"> <label for="collapse-section4" aria-hidden="true">V2.6.0 / 23-Jan-2019</label>
<div>
<h2 id="main-changes-12">Main Changes</h2>
<h3 id="maintenance-release-12">Maintenance release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Editorial modifications (Astyle)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update in Discharge handling for MB1397 when VBUS is not supplied</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-12">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-12">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.20.2</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.25</li>
<li>System Workbench STM32 (SW4STM32) toolchain V2.7.2</li>
</ul>
<h2 id="supported-devices-and-boards-12">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-12">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-12">Dependencies</h2>
<p>NA</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section3" aria-hidden="true"> <label for="collapse-section3" aria-hidden="true">V2.5.0 / 10-Dec-2018</label>
<div>
<h2 id="main-changes-13">Main Changes</h2>
<h3 id="maintenance-release-13">Maintenance release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Editorial correction (renaming toggle by toggle)</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-13">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-13">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.20.2</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.25</li>
<li>System Workbench STM32 (SW4STM32) toolchain V2.7.2</li>
</ul>
<h2 id="supported-devices-and-boards-13">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-13">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-13">Dependencies</h2>
<p>NA</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section2" aria-hidden="true"> <label for="collapse-section2" aria-hidden="true">V2.4.0 / 15-Nov-2018</label>
<div>
<h2 id="main-changes-14">Main Changes</h2>
<h3 id="initial-release">Initial release</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">First official version for STM32G4xx device (source code available)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ready for cubemx integration</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Remove BSP reference, now managed through the header file usbpd_devices_conf.h</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update for errorrecovery management</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-14">Known Limitations</h2>
<p>Outstanding bugs list : None</p>
<p>Requirements not met or planned in a forthcoming release : None</p>
<h2 id="development-toolchains-and-compilers-14">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V8.20.2</li>
<li>Keil Microcontroller Development Kit (MDK-ARM) toolchain V5.25</li>
<li>System Workbench STM32 (SW4STM32) toolchain V2.7.2</li>
</ul>
<h2 id="supported-devices-and-boards-14">Supported Devices and boards</h2>
<p>All STM32G4xx devices embedding USBPD IP</p>
<h2 id="backward-compatibility-14">Backward compatibility</h2>
<p>No compatibility break with previous version</p>
<h2 id="dependencies-14">Dependencies</h2>
<p>NA</p>
</div>
</div>
</div>
</div>
<footer class="sticky">
<p>For complete documentation on <strong>STM32 32-bit Arm Cortex MCUs</strong>, visit: <a href="http://www.st.com/STM32">http://www.st.com/STM32</a></p>
This release note uses up to date web standards and, for this reason, should not be opened with Internet Explorer but preferably with popular browsers such as Google Chrome, Mozilla Firefox, Opera or Microsoft Edge.
</footer>
</body>
</html>
